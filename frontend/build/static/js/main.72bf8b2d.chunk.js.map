{"version":3,"sources":["context/AuthContext.jsx","components/Navbar.jsx","pages/Auth/Login.jsx","pages/Auth/Register.jsx","pages/Profile.jsx","App.jsx","index.js"],"names":["AuthContext","createContext","AuthProvider","_ref","children","user","setUser","useState","useEffect","storedUser","JSON","parse","localStorage","getItem","React","createElement","Provider","value","login","userData","setItem","stringify","logout","removeItem","useAuth","useContext","Navbar","navigate","useNavigate","style","padding","background","color","Link","to","Fragment","onClick","handleLogout","Login","email","setEmail","password","setPassword","maxWidth","margin","onSubmit","async","e","preventDefault","res","fetch","method","headers","Content-Type","body","data","json","ok","alert","message","err","console","error","type","placeholder","onChange","target","required","Register","nickname","setNickname","avatar","Profile","textAlign","marginTop","src","alt","width","height","borderRadius","App","Router","Routes","Route","path","element","Navigate","ToastContainer","ReactDOM","createRoot","document","getElementById","render","StrictMode","BrowserRouter","future","v7_startTransition","v7_relativeSplatPath","position","autoClose"],"mappings":"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","file":"static/js/main.72bf8b2d.chunk.js","sourcesContent":["// Auth Context - React\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const storedUser = JSON.parse(localStorage.getItem('user'));\r\n    if (storedUser) {\r\n      setUser(storedUser);\r\n    }\r\n  }, []);\r\n\r\n  const login = (userData) => {\r\n    localStorage.setItem('user', JSON.stringify(userData));\r\n    setUser(userData);\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('user');\r\n    setUser(null);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n","// Navbar Component - React\r\n\r\nimport React from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst Navbar = () => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <nav style={{ padding: '10px', background: '#222', color: 'white' }}>\r\n      <Link to=\"/\">Home</Link>{\" \"}\r\n      {user ? (\r\n        <>\r\n          <Link to=\"/profile\">Profilo</Link>{\" \"}\r\n          <button onClick={handleLogout}>Logout</button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Link to=\"/login\">Login</Link>{\" \"}\r\n          <Link to=\"/register\">Registrati</Link>\r\n        </>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","// Login Page - React\r\n\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch('/api/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, password })\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        login(data);\r\n        navigate('/profile');\r\n      } else {\r\n        alert(data.message);\r\n      }\r\n    } catch (err) {\r\n      console.error('Errore di rete');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: '400px', margin: '60px auto' }}>\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"email\" placeholder=\"Email\" value={email}\r\n          onChange={(e) => setEmail(e.target.value)} required />\r\n        <br />\r\n        <input type=\"password\" placeholder=\"Password\" value={password}\r\n          onChange={(e) => setPassword(e.target.value)} required />\r\n        <br />\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","// Register Page - React\r\n\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Register = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [nickname, setNickname] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch('/api/register', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, password, nickname, avatar: '' })\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        alert('Registrazione completata!');\r\n        navigate('/login');\r\n      } else {\r\n        alert(data.message);\r\n      }\r\n    } catch (err) {\r\n      console.error('Errore di rete');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: '400px', margin: '60px auto' }}>\r\n      <h2>Registrazione</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"email\" placeholder=\"Email\" value={email}\r\n          onChange={(e) => setEmail(e.target.value)} required />\r\n        <br />\r\n        <input type=\"password\" placeholder=\"Password (6-16 caratteri)\" value={password}\r\n          onChange={(e) => setPassword(e.target.value)} required />\r\n        <br />\r\n        <input type=\"text\" placeholder=\"Nickname\" value={nickname}\r\n          onChange={(e) => setNickname(e.target.value)} required />\r\n        <br />\r\n        <button type=\"submit\">Registrati</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","// Profile Page - React\r\n\r\nimport React from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst Profile = () => {\r\n  const { user } = useAuth();\r\n\r\n  if (!user) {\r\n    return <h2>Non sei loggato</h2>;\r\n  }\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center', marginTop: '50px' }}>\r\n      <h1>Profilo Utente</h1>\r\n      <img\r\n        src={user.avatar || 'https://api.dicebear.com/7.x/adventurer/svg'}\r\n        alt=\"Avatar\"\r\n        style={{ width: '100px', height: '100px', borderRadius: '50%' }}\r\n      />\r\n      <h2>{user.nickname || 'Anonimo'}</h2>\r\n      <p>Email: {user.email}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport Navbar from './components/Navbar';\r\nimport Login from './pages/Auth/Login';\r\nimport Register from './pages/Auth/Register';\r\nimport Profile from './pages/Profile';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { AuthProvider } from './context/AuthContext';\r\n\r\nconst App = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <Navbar />\r\n        <Routes>\r\n          <Route path=\"/\" element={<Navigate to=\"/login\" />} />\r\n          <Route path=\"/login\" element={<Login />} />\r\n          <Route path=\"/register\" element={<Register />} />\r\n          <Route path=\"/profile\" element={<Profile />} />\r\n          <Route path=\"*\" element={<h1>404 - Pagina non trovata</h1>} />\r\n        </Routes>\r\n        <ToastContainer />\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { AuthProvider } from './context/AuthContext';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './styles/globals.css';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter future={{ v7_startTransition: true, v7_relativeSplatPath: true }}>\r\n      <AuthProvider>\r\n        <ToastContainer position=\"top-center\" autoClose={3000} />\r\n        <App />\r\n      </AuthProvider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n);\r\n"],"sourceRoot":""}